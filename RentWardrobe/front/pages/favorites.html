<!DOCTYPE html>
<html lang="uk">

<!-- Верхній рядок -->
<div class="top-message">
    <span>YOUR PERFECT PROM LOOK STARTS HERE</span>
    <span>YOUR PERFECT PROM LOOK STARTS HERE</span>
    <span>YOUR PERFECT PROM LOOK STARTS HERE</span>
</div>

<head>
    <meta charset="UTF-8" />
    <title>RentWardrobe - Обрані товари</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/styles/userProfile.css" />
</head>
<body>
<header>
    <a href="index.html" style="color: inherit; text-decoration: none;">
        <div class="logo">RentWardrobe</div>
    </a>
    <nav class="menu">
        <ul>
            <li><a href="#">Жіночий</a></li>
            <li><a href="#">Чоловічий</a></li>
            <li><a href="#">Пошук</a></li>
            <li><a href="userProfile.html">Особистий кабінет</a></li>
        </ul>
    </nav>
    <div class="header-icons">
        <a href="cart.html"><i class="fa-solid fa-cart-shopping"></i></a>
        <a href="userProfile.html"><i class="fa-solid fa-user"></i></a>
    </div>
</header>


<div class="cabinet-container">
    <h2 class="cabinet-title">ОБРАНІ ТОВАРИ</h2>
    <div class="favorites-grid" id="favoritesGrid"></div>
</div>

<script>
    const currentUserEmail = localStorage.getItem('currentUserEmail');

    async function loadFavorites() {
        if (!currentUserEmail) return;

        try {
            const res = await fetch(`/api/user/${currentUserEmail}`);
            const user = await res.json();

            const grid = document.getElementById('favoritesGrid');

            user.favorites.forEach(code => {
                const card = document.createElement('div');
                card.className = 'favorite-card';
                card.textContent = `Товар з кодом: ${code}`; // можеш замінити на пошук по БД
                grid.appendChild(card);
            });
        } catch (err) {
            console.error('Помилка при завантаженні обраних товарів', err);
        }
    }

    window.onload = loadFavorites;
</script>
</body>
</html>
